{% include 'header.html' %}


<!-- Videos -->
<div class="cards-2 form-container" style="padding-top: 8rem">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <h2>Login</h2>
                <!-- Request Form -->
                <div>
                    <form id="requestForm" action="/login" method="post">
                        {{ msg }}
                        <div class="form-group">
                            <input type="email" class="form-control-input" id="remail" name="remail" required>
                            <label class="label-control" for="remail">Email</label>
                            <div class="help-block with-errors"></div>
                        </div>
                        <div class="form-group">
                            <input type="password" class="form-control-input" id="rpwd" name="rpwd" required>
                            <label class="label-control" for="rpwd">Password</label>
                            <div class="help-block with-errors"></div>
                        </div>
                        <div class="form-message">
                            <div id="rmsgSubmit" class="h3 text-center hidden"></div>
                        </div>
                        <div class="form-group">
                            <button type="submit" class="form-control-submit-button" onclick="sha256()">LOGIN</button>
                        </div>
                        <div class="form-group">
                            <a class=" btn-solid-second page-scroll" href="./register.html"
                               style="width: 100%;padding: 0;line-height: 3rem;">REGISTER</a>
                        </div>

                    </form>
                </div> <!-- end of form-container -->
                <!-- end of request form -->

            </div> <!-- end of col -->
        </div> <!-- end of row -->
    </div> <!-- end of container -->
</div> <!-- end of cards-2 -->
<!-- end of pricing -->

<script>
    async function sha256(e) {
        pwd = document.getElementById("rpwd").value

        const msgBuffer = new TextEncoder('utf-8').encode(pwd);
        const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);
        const hashArray = Array.from(new Uint8Array(hashBuffer));

        const hashHex = hashArray.map(b => ('00' + b.toString(16)).slice(-2)).join('');
        document.getElementById("rpwd").value = hashHex;
        alert(hashHex)

    }
</script>
{% include 'footer.html' %}